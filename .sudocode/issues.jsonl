{"id":"i-2laf","uuid":"8ce56f26-255a-4c2c-b88d-a3dcbcd3f578","title":"Implement AgentHandle","content":"Create `src/agent-handle.ts`:\n- Spawn subprocess with `child_process.spawn()`\n- Set up NDJSON streams via `acp.ndJsonStream()`\n- Create `ClientSideConnection` with ACPClientHandler\n- Call `initialize()` and store capabilities\n- Implement `createSession()`, `loadSession()`, `close()`\n\nImplements [[s-6t4r]]","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-12-11 19:31:25","updated_at":"2025-12-11 19:33:32","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-2laf","from_type":"issue","to":"i-63n6","to_type":"issue","type":"depends-on"},{"from":"i-2laf","from_type":"issue","to":"s-6t4r","to_type":"spec","type":"implements"}],"tags":["core"]}
{"id":"i-63n6","uuid":"12d41b03-f4dd-49cd-a61e-c42b1749e983","title":"Implement ACPClientHandler","content":"Create `src/client-handler.ts` implementing `acp.Client`:\n- `requestPermission()` - delegate to callback or auto-approve/deny based on mode\n- `sessionUpdate()` - push updates to per-session async iterators\n- `readTextFile()` - delegate to callback or default to fs.readFile\n- `writeTextFile()` - delegate to callback or default to fs.writeFile\n- Terminal operations (createTerminal, etc.)\n\nUse pushable async iterator pattern for streaming updates.\n\nImplements [[s-6t4r]]","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-12-11 19:31:25","updated_at":"2025-12-11 19:33:32","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-63n6","from_type":"issue","to":"i-8q1l","to_type":"issue","type":"depends-on"},{"from":"i-63n6","from_type":"issue","to":"s-6t4r","to_type":"spec","type":"implements"}],"tags":["core"]}
{"id":"i-6lcd","uuid":"83943996-5a82-4e3e-95ab-0ad7b011b91f","title":"Set up acp-factory project structure","content":"Initialize the TypeScript project with:\n- `package.json` with `@agentclientprotocol/sdk` dependency\n- `tsconfig.json` for TypeScript configuration\n- Basic file structure under `src/`\n\nImplements [[s-6t4r]]","status":"closed","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-12-11 19:31:25","updated_at":"2025-12-11 19:40:54","closed_at":"2025-12-11 19:40:54","parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6lcd","from_type":"issue","to":"s-6t4r","to_type":"spec","type":"implements"}],"tags":["setup"],"feedback":[{"id":"0e6e8fcd-a6f7-4b15-88a4-b85b140d120b","from_id":"i-6lcd","to_id":"s-6t4r","feedback_type":"comment","content":"## Implementation Complete\n\nCreated the project structure with:\n\n### Files Created\n- `package.json` - Dependencies: `@agentclientprotocol/sdk` v0.8.0\n- `tsconfig.json` - ES2022 target, NodeNext modules, strict mode\n- `src/index.ts` - Public exports\n- `src/types.ts` - Type definitions with re-exports from ACP SDK\n- `src/factory.ts` - AgentFactory with static registry\n- `src/agent-handle.ts` - AgentHandle skeleton (TODO stubs)\n- `src/session.ts` - Session skeleton (TODO stubs)\n- `src/client-handler.ts` - ACPClientHandler skeleton (TODO stubs)\n- `src/providers/claude-code.ts` - Claude Code config (npx @zed-industries/claude-code-acp)\n\n### Verification\n- `npm install` succeeded (48 packages)\n- `npm run build` succeeded\n- `dist/` contains all compiled JS and declaration files\n\n### Notes\n- Used same ACP SDK version (0.8.0) as claude-code-acp reference\n- Skeleton files have TODO stubs referencing the next issues in the chain","agent":"alexngai","anchor":null,"dismissed":false,"created_at":"2025-12-11T19:40:54.490Z","updated_at":"2025-12-11T19:40:54.490Z"}]}
{"id":"i-8q1l","uuid":"aa56a4e9-feaf-4660-8cbd-e54352664721","title":"Implement core types","content":"Create `src/types.ts` with:\n- `AgentConfig` interface\n- `SpawnOptions` interface  \n- `SessionOptions` interface\n- `PermissionMode` enum (auto-approve, auto-deny, require-callback)\n- Re-export relevant ACP types\n\nImplements [[s-6t4r]]","status":"open","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-12-11 19:31:25","updated_at":"2025-12-11 19:40:54","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-8q1l","from_type":"issue","to":"i-6lcd","to_type":"issue","type":"depends-on"},{"from":"i-8q1l","from_type":"issue","to":"s-6t4r","to_type":"spec","type":"implements"}],"tags":["types"]}
{"id":"i-33nu","uuid":"268b184d-9baf-4c3a-b6ec-92871b6c7838","title":"Create public exports and integration test","content":"Create `src/index.ts` with public API exports.\n\nWrite integration test that:\n- Spawns Claude Code agent\n- Creates session\n- Sends prompt\n- Receives streaming updates\n- Verifies end-to-end flow works\n\nImplements [[s-6t4r]]","status":"blocked","priority":2,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-12-11 19:31:26","updated_at":"2025-12-11 19:33:33","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-33nu","from_type":"issue","to":"i-6r3p","to_type":"issue","type":"depends-on"},{"from":"i-33nu","from_type":"issue","to":"s-6t4r","to_type":"spec","type":"implements"}],"tags":["test"]}
{"id":"i-6r3p","uuid":"e822fd4f-930d-443c-8d84-0d23de77fcb3","title":"Implement AgentFactory","content":"Create `src/factory.ts`:\n- Static registry map of agent configs\n- `register(name, config)` to add agent types\n- `spawn(name, options)` to create AgentHandle instances\n- Pre-register \"claude-code\" provider on module load\n\nAlso create `src/providers/claude-code.ts` with Claude Code config.\n\nImplements [[s-6t4r]]","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-12-11 19:31:26","updated_at":"2025-12-11 19:33:33","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-6r3p","from_type":"issue","to":"i-2laf","to_type":"issue","type":"depends-on"},{"from":"i-6r3p","from_type":"issue","to":"s-6t4r","to_type":"spec","type":"implements"}],"tags":["core"]}
{"id":"i-90yy","uuid":"14a2a1be-b680-40f4-8069-9f2b43afbb97","title":"Implement Session","content":"Create `src/session.ts`:\n- Store session ID, modes, models\n- Implement `prompt()` returning `AsyncIterable<SessionUpdate>`\n- Implement `cancel()` to abort in-flight prompts\n- Implement `setMode()` for mode switching\n\nImplements [[s-6t4r]]","status":"blocked","priority":1,"assignee":null,"archived":0,"archived_at":null,"created_at":"2025-12-11 19:31:26","updated_at":"2025-12-11 19:33:32","closed_at":null,"parent_id":null,"parent_uuid":null,"relationships":[{"from":"i-90yy","from_type":"issue","to":"i-8q1l","to_type":"issue","type":"depends-on"},{"from":"i-90yy","from_type":"issue","to":"s-6t4r","to_type":"spec","type":"implements"}],"tags":["core"]}
